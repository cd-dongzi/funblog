import fs from 'fs';
import path from 'path';
import { PageMenuType, Tag } from '@funblog/types';
import { Injectable } from '@nestjs/common';
import { SERVER_PORT } from 'src/constants';
import { PrismaService } from '../prisma/prisma.service';
import { SiteConfigType } from '../site/site.interface';

@Injectable()
export class InitService {
  constructor(private readonly prisma: PrismaService) {}

  async initData() {
    const svg = await this.prisma.prisma.svg.findFirst();
    const arr = [] as any[];
    if (!svg) {
      arr.push(this.initSvg());
    }
    // ================== ç«™ç‚¹é…ç½® ==================
    // ç«™ç‚¹ä¿¡æ¯
    const siteMeta = await this.prisma.prisma.siteConfig.findFirst({
      where: {
        type: SiteConfigType.META,
      },
    });
    if (!siteMeta) {
      arr.push(this.initSiteMeta());
    }
    // åšä¸»ä¿¡æ¯
    const siteBlogger = await this.prisma.prisma.siteConfig.findFirst({
      where: {
        type: SiteConfigType.BLOGGER,
      },
    });
    if (!siteBlogger) {
      arr.push(this.initSiteBlogger());
    }
    // åˆ†é¡µä¿¡æ¯
    const sitePagination = await this.prisma.prisma.siteConfig.findFirst({
      where: {
        type: SiteConfigType.PAGINATION,
      },
    });
    if (!sitePagination) {
      arr.push(this.initSitePagination());
    }
    // è¯„è®ºä¿¡æ¯
    const siteComment = await this.prisma.prisma.siteConfig.findFirst({
      where: {
        type: SiteConfigType.COMMENT,
      },
    });
    if (!siteComment) {
      arr.push(this.initSiteComment());
    }
    // åª’ä½“è®¾ç½®
    const siteMedia = await this.prisma.prisma.siteConfig.findFirst({
      where: {
        type: SiteConfigType.IMAGE,
      },
    });
    if (!siteMedia) {
      arr.push(this.initSiteMedia());
    }
    // ç”¨æˆ·è®¾ç½®
    const siteUser = await this.prisma.prisma.siteConfig.findFirst({
      where: {
        type: SiteConfigType.USER,
      },
    });
    if (!siteUser) {
      arr.push(this.initSiteUser());
    }
    // é«˜çº§è®¾ç½®
    const siteAdvance = await this.prisma.prisma.siteConfig.findFirst({
      where: {
        type: SiteConfigType.ADVANCE,
      },
    });
    if (!siteAdvance) {
      arr.push(this.initSiteAdvance());
    }

    // ================== é¡µé¢é…ç½® ==================
    const pageMenu = await this.prisma.prisma.pageMenu.findFirst();
    if (!pageMenu) {
      arr.push(this.initPageMenu());
    }

    const post = await this.prisma.prisma.post.findFirst();
    if (!post) {
      const tag = await this.prisma.prisma.tag.create({
        data: {
          name: 'æµ‹è¯•',
          alias: 'test',
        },
      });
      arr.push(this.initPost(tag as any));
    }

    await this.prisma.prisma.$transaction(arr);
  }

  initSvg() {
    const _p = path.resolve(process.cwd(), './assets/svg.json');
    const data = fs.readFileSync(_p, 'utf-8').toString();
    const list = JSON.parse(data);
    return this.prisma.prisma.svg.createMany({
      data: list.map((item) => {
        return {
          name: item.name,
          content: item.content,
          scope: item.scope,
          desc: item.desc,
        };
      }),
    });
  }

  initSiteMeta() {
    return this.prisma.prisma.siteConfig.create({
      data: {
        type: SiteConfigType.META,
        config: {
          title: 'Funblog',
          keywords: 'Next, Nest, React, TypeScript',
          description: 'Funblog',
          favicon: '/favicon.ico',
          logo: '/logo.png',
          url: `http://localhost:${process.env.CLIENT_PORT}`,
          resourceUrl: `http://localhost:${SERVER_PORT}`,
          serverUrl: `http://localhost:${SERVER_PORT}`,
          adminUrl: `http://localhost:${process.env.ADMIN_PORT}`,
          footerLinks: [
            { text: 'ç‰ˆæƒæ‰€æœ‰ Â© 2021 â€¢Ì€.Ì«â€¢Ìâœ§ | Wintermelon All Rights Reserved' },
            { text: 'äº¬ICPå¤‡xxxxxxxx-1', url: 'https://baidu.com' },
          ],
        },
      },
    });
  }

  initSiteBlogger() {
    return this.prisma.prisma.siteConfig.create({
      data: {
        type: SiteConfigType.BLOGGER,
        config: {
          avatar: '/avatar.gif',
          username: 'funblog',
          desc: 'have fun',
        },
      },
    });
  }

  initSitePagination() {
    return this.prisma.prisma.siteConfig.create({
      data: {
        type: SiteConfigType.PAGINATION,
        config: {
          postPageSize: 12,
        },
      },
    });
  }

  initSiteComment() {
    return this.prisma.prisma.siteConfig.create({
      data: {
        type: SiteConfigType.COMMENT,
        config: {
          pageSize: 10,
          enableComment: true,
          viewOnly: false,
          review: true,
          approvedPass: true,
          notifyAfterComment: true,
          emailAfterApproval: true,
          emailAfterReply: true,
          emojiList: [
            {
              name: 'è¡¨æƒ…',
              value:
                'ğŸ˜€ ğŸ˜ ğŸ˜‚ ğŸ¤£ ğŸ˜ƒ ğŸ˜„ ğŸ˜… ğŸ˜† ğŸ˜‰ ğŸ˜Š ğŸ˜‹ ğŸ˜ ğŸ˜ ğŸ˜˜ ğŸ˜— ğŸ˜™ ğŸ˜š â˜ºï¸ ğŸ™‚ ğŸ¤— ğŸ¤© ğŸ¤” ğŸ¤¨ ğŸ˜ ğŸ˜‘ ğŸ˜¶ ğŸ™„ ğŸ˜ ğŸ˜£ ğŸ˜¥ ğŸ˜® ğŸ¤ ğŸ˜¯ ğŸ˜ª ğŸ˜« ğŸ˜´ ğŸ˜Œ ğŸ˜› ğŸ˜œ ğŸ˜ ğŸ¤¤ ğŸ˜’ ğŸ˜“ ğŸ˜” ğŸ˜• ğŸ™ƒ ğŸ¤‘ ğŸ˜² â˜¹ï¸ ğŸ™ ğŸ˜– ğŸ˜ ğŸ˜Ÿ ğŸ˜¤ ğŸ˜¢ ğŸ˜­ ğŸ˜¦ ğŸ˜§ ğŸ˜¨ ğŸ˜© ğŸ¤¯ ğŸ˜¬ ğŸ˜° ğŸ˜± ğŸ˜³ ğŸ¤ª ğŸ˜µ ğŸ˜¡ ğŸ˜  ğŸ¤¬ ğŸ˜· ğŸ¤’ ğŸ¤• ğŸ¤¢ ğŸ¤® ğŸ¤§ ğŸ˜‡ ğŸ¤  ğŸ¤¡ ğŸ¤¥ ğŸ¤« ğŸ¤­ ğŸ§ ğŸ¤“ ğŸ˜ˆ ğŸ‘¿ ğŸ‘¹ ğŸ‘º ğŸ’€ ğŸ‘» ğŸ‘½ ğŸ¤– ğŸ’© ğŸ˜º ğŸ˜¸ ğŸ˜¹ ğŸ˜» ğŸ˜¼ ğŸ˜½ ğŸ™€ ğŸ˜¿ ğŸ˜¾',
            },
            {
              name: 'æ‰‹åŠ¿',
              value: 'ğŸ‘ ğŸ‘ ğŸ¤² ğŸ‘ ğŸ™Œ ğŸ‘ ğŸ¤ ğŸ‘Š âœŠ ğŸ¤› ğŸ¤œ ğŸ¤ âœŒï¸ ğŸ¤Ÿ ğŸ¤˜ ğŸ‘Œ ğŸ‘ˆ ğŸ‘‰ ğŸ‘† ğŸ‘‡ â˜ï¸ âœ‹ ğŸ¤š ğŸ–– ğŸ‘‹ ğŸ¤™ ğŸ’ª ğŸ–• âœï¸ ğŸ™',
            },
            {
              name: 'äººç‰©',
              value:
                'ğŸ‘¶ ğŸ‘§ ğŸ§’ ğŸ‘¦ ğŸ‘© ğŸ§‘ ğŸ‘¨ ğŸ‘µ ğŸ§“ ğŸ‘´ ğŸ‘² ğŸ‘³â€â™€ï¸ ğŸ‘³â€â™‚ï¸ ğŸ§• ğŸ§” ğŸ‘±â€â™‚ï¸ ğŸ‘±â€â™€ï¸ ğŸ‘®â€â™€ï¸ ğŸ‘®â€â™‚ï¸ ğŸ‘·â€â™€ï¸ ğŸ‘·â€â™‚ï¸ ğŸ’‚â€â™€ï¸ ğŸ’‚â€â™‚ï¸ ğŸ•µï¸â€â™€ï¸ ğŸ•µï¸â€â™‚ï¸ ğŸ‘©â€âš•ï¸ ğŸ‘¨â€âš•ï¸ ğŸ‘©â€ğŸŒ¾ ğŸ‘¨â€ğŸŒ¾ ğŸ‘©â€ğŸ³ ğŸ‘¨â€ğŸ³ ğŸ‘©â€ğŸ“ ğŸ‘¨â€ğŸ“ ğŸ‘©â€ğŸ¤ ğŸ‘¨â€ğŸ¤ ğŸ‘©â€ğŸ« ğŸ‘¨â€ğŸ« ğŸ‘©â€ğŸ­ ğŸ‘¨â€ğŸ­ ğŸ‘©â€ğŸ’» ğŸ‘¨â€ğŸ’» ğŸ‘©â€ğŸ’¼ ğŸ‘¨â€ğŸ’¼ ğŸ‘©â€ğŸ”§ ğŸ‘¨â€ğŸ”§ ğŸ‘©â€ğŸ”¬ ğŸ‘¨â€ğŸ”¬ ğŸ‘©â€ğŸ¨ ğŸ‘¨â€ğŸ¨ ğŸ‘©â€ğŸš’ ğŸ‘¨â€ğŸš’ ğŸ‘©â€âœˆï¸ ğŸ‘¨â€âœˆï¸ ğŸ‘©â€ğŸš€ ğŸ‘¨â€ğŸš€ ğŸ‘©â€âš–ï¸ ğŸ‘¨â€âš–ï¸ ğŸ‘° ğŸ¤µ ğŸ‘¸ ğŸ¤´ ğŸ¤¶ ğŸ… ğŸ§™â€â™€ï¸ ğŸ§™â€â™‚ï¸ ğŸ§â€â™€ï¸ ğŸ§â€â™‚ï¸ ğŸ§›â€â™€ï¸ ğŸ§›â€â™‚ï¸ ğŸ§Ÿâ€â™€ï¸ ğŸ§Ÿâ€â™‚ï¸ ğŸ§â€â™€ï¸ ğŸ§â€â™‚ï¸ ğŸ§œâ€â™€ï¸ ğŸ§œâ€â™‚ï¸ ğŸ§šâ€â™€ï¸ ğŸ§šâ€â™‚ï¸ ğŸ‘¼ ğŸ¤° ğŸ¤± ğŸ™‡â€â™€ï¸ ğŸ™‡â€â™‚ï¸ ğŸ’â€â™€ï¸ ğŸ’â€â™‚ï¸ ğŸ™…â€â™€ï¸ ğŸ™…â€â™‚ï¸ ğŸ™†â€â™€ï¸ ğŸ™†â€â™‚ï¸ ğŸ™‹â€â™€ï¸ ğŸ™‹â€â™‚ï¸ ğŸ¤¦â€â™€ï¸ ğŸ¤¦â€â™‚ï¸ ğŸ¤·â€â™€ï¸ ğŸ¤·â€â™‚ï¸ ğŸ™â€â™€ï¸ ğŸ™â€â™‚ï¸ ğŸ™â€â™€ï¸ ğŸ™â€â™‚ï¸ ğŸ’‡â€â™€ï¸ ğŸ’‡â€â™‚ï¸ ğŸ’†â€â™€ï¸ ğŸ’†â€â™‚ï¸ ğŸ§–â€â™€ï¸ ğŸ§–â€â™‚ï¸ ğŸ’… ğŸ¤³ ğŸ’ƒ ğŸ•º ğŸ‘¯â€â™€ï¸ ğŸ‘¯â€â™‚ï¸ ğŸ•´ ğŸš¶â€â™€ï¸ ğŸš¶â€â™‚ï¸ ğŸƒâ€â™€ï¸ ğŸƒâ€â™‚ï¸ ğŸ‘« ğŸ‘­ ğŸ‘¬ ğŸ’‘ ğŸ‘©â€â¤ï¸â€ğŸ‘© ğŸ‘¨â€â¤ï¸â€ğŸ‘¨ ğŸ’ ğŸ‘©â€â¤ï¸â€ğŸ’‹â€ğŸ‘© ğŸ‘¨â€â¤ï¸â€ğŸ’‹â€ğŸ‘¨ ğŸ‘ª',
            },
            {
              name: 'åŠ¨ç‰©&è‡ªç„¶',
              value:
                'ğŸ¶ ğŸ± ğŸ­ ğŸ¹ ğŸ° ğŸ¦Š ğŸ¦ ğŸ» ğŸ¼ ğŸ¦˜ ğŸ¦¡ ğŸ¨ ğŸ¯ ğŸ¦ ğŸ® ğŸ· ğŸ½ ğŸ¸ ğŸµ ğŸ™ˆ ğŸ™‰ ğŸ™Š ğŸ’ ğŸ” ğŸ§ ğŸ¦ ğŸ¤ ğŸ£ ğŸ¥ ğŸ¦† ğŸ¦¢ ğŸ¦… ğŸ¦‰ ğŸ¦š ğŸ¦œ ğŸ¦‡ ğŸº ğŸ— ğŸ´ ğŸ¦„ ğŸ ğŸ› ğŸ¦‹ ğŸŒ ğŸš ğŸ ğŸœ ğŸ¦— ğŸ•· ğŸ•¸ ğŸ¦‚ ğŸ¦Ÿ ğŸ¦  ğŸ¢ ğŸ ğŸ¦ ğŸ¦– ğŸ¦• ğŸ™ ğŸ¦‘ ğŸ¦ ğŸ¦€ ğŸ¡ ğŸ  ğŸŸ ğŸ¬ ğŸ³ ğŸ‹ ğŸ¦ˆ ğŸŠ ğŸ… ğŸ† ğŸ¦“ ğŸ¦ ğŸ˜ ğŸ¦ ğŸ¦› ğŸª ğŸ« ğŸ¦™ ğŸ¦’ ğŸƒ ğŸ‚ ğŸ„ ğŸ ğŸ– ğŸ ğŸ‘ ğŸ ğŸ¦Œ ğŸ• ğŸ© ğŸˆ ğŸ“ ğŸ¦ƒ ğŸ‡ ğŸ ğŸ€ ğŸ¦” ğŸ¾ ğŸ‰ ğŸ² ğŸŒµ ğŸ„ ğŸŒ² ğŸŒ³ ğŸŒ´ ğŸŒ± ğŸŒ¿ â˜˜ï¸ ğŸ€ ğŸ ğŸ‹ ğŸƒ ğŸ‚ ğŸ ğŸ„ ğŸŒ¾ ğŸ’ ğŸŒ· ğŸŒ¹ ğŸ¥€ ğŸŒº ğŸŒ¸ ğŸŒ¼ ğŸŒ» ğŸŒ ğŸŒ ğŸŒ› ğŸŒœ ğŸŒš ğŸŒ• ğŸŒ– ğŸŒ— ğŸŒ˜ ğŸŒ‘ ğŸŒ’ ğŸŒ“ ğŸŒ” ğŸŒ™ ğŸŒ ğŸŒ ğŸŒ ğŸ’« â­ï¸ ğŸŒŸ âœ¨ âš¡ï¸ â˜„ï¸ ğŸ’¥ ğŸ”¥ ğŸŒˆ â˜€ï¸ â›…ï¸ â„ï¸ â˜ƒï¸ â›„ï¸ ğŸ’¨ ğŸ’§ ğŸ’¦ â˜”ï¸ â˜‚ï¸ ğŸŒŠ',
            },
            {
              name: 'æ°´æœ&é£Ÿç‰©',
              value:
                'ğŸ ğŸ ğŸ ğŸŠ ğŸ‹ ğŸŒ ğŸ‰ ğŸ‡ ğŸ“ ğŸˆ ğŸ’ ğŸ‘ ğŸ ğŸ¥­ ğŸ¥¥ ğŸ¥ ğŸ… ğŸ† ğŸ¥‘ ğŸ¥¦ ğŸ¥’ ğŸ¥¬ ğŸŒ½ ğŸ¥• ğŸ¥” ğŸ  ğŸ¥ ğŸ ğŸ¥– ğŸ¥¨ ğŸ¥¯ ğŸ§€ ğŸ¥š ğŸ³ ğŸ¥ ğŸ¥“ ğŸ¥© ğŸ— ğŸ– ğŸŒ­ ğŸ” ğŸŸ ğŸ• ğŸ¥ª ğŸ¥™ ğŸŒ® ğŸŒ¯ ğŸ¥— ğŸ¥˜ ğŸ¥« ğŸ ğŸœ ğŸ² ğŸ› ğŸ£ ğŸ± ğŸ¥Ÿ ğŸ¤ ğŸ™ ğŸš ğŸ˜ ğŸ¥ ğŸ¥® ğŸ¥  ğŸ¢ ğŸ¡ ğŸ§ ğŸ¨ ğŸ¦ ğŸ¥§ ğŸ° ğŸ‚ ğŸ® ğŸ­ ğŸ¬ ğŸ« ğŸ¿ ğŸ§‚ ğŸ© ğŸª ğŸŒ° ğŸ¥œ ğŸ¯ ğŸ¥› ğŸ¼ â˜•ï¸ ğŸµ ğŸ¥¤ ğŸ¶ ğŸº ğŸ» ğŸ¥‚ ğŸ· ğŸ¥ƒ ğŸ¸ ğŸ¹ ğŸ¾ ğŸ¥„ ğŸ´ ğŸ½ ğŸ¥£ ğŸ¥¡ ğŸ¥¢',
            },
            {
              name: 'è¿åŠ¨&å¨±ä¹',
              value:
                'âš½ï¸ ğŸ€ ğŸˆ âš¾ï¸ ğŸ¥ ğŸ ğŸ‰ ğŸ¾ ğŸ¥ ğŸ± ğŸ“ ğŸ¸ ğŸ¥… ğŸ’ ğŸ‘ ğŸ¥ ğŸ â›³ï¸ ğŸ¹ ğŸ£ ğŸ¥Š ğŸ¥‹ ğŸ½ â›¸ ğŸ¥Œ ğŸ›· ğŸ›¹ ğŸ¿ â›· ğŸ‚ ğŸ‹ï¸â€â™€ï¸ ğŸ‹ğŸ»â€â™€ï¸ ğŸ‹ğŸ¼â€â™€ï¸ ğŸ‹ğŸ½â€â™€ï¸ ğŸ‹ğŸ¾â€â™€ï¸ ğŸ‹ğŸ¿â€â™€ï¸ ğŸ‹ï¸â€â™‚ï¸ ğŸ‹ğŸ»â€â™‚ï¸ ğŸ‹ğŸ¼â€â™‚ï¸ ğŸ‹ğŸ½â€â™‚ï¸ ğŸ‹ğŸ¾â€â™‚ï¸ ğŸ‹ğŸ¿â€â™‚ï¸ ğŸ¤¼â€â™€ï¸ ğŸ¤¼â€â™‚ï¸ ğŸ¤¸â€â™€ï¸ ğŸ¤¸ğŸ»â€â™€ï¸ ğŸ¤¸ğŸ¼â€â™€ï¸ ğŸ¤¸ğŸ½â€â™€ï¸ ğŸ¤¸ğŸ¾â€â™€ï¸ ğŸ¤¸ğŸ¿â€â™€ï¸ ğŸ¤¸â€â™‚ï¸ ğŸ¤¸ğŸ»â€â™‚ï¸ ğŸ¤¸ğŸ¼â€â™‚ï¸ ğŸ¤¸ğŸ½â€â™‚ï¸ ğŸ¤¸ğŸ¾â€â™‚ï¸ ğŸ¤¸ğŸ¿â€â™‚ï¸ â›¹ï¸â€â™€ï¸ â›¹ğŸ»â€â™€ï¸ â›¹ğŸ¼â€â™€ï¸ â›¹ğŸ½â€â™€ï¸ â›¹ğŸ¾â€â™€ï¸ â›¹ğŸ¿â€â™€ï¸ â›¹ï¸â€â™‚ï¸ â›¹ğŸ»â€â™‚ï¸ â›¹ğŸ¼â€â™‚ï¸ â›¹ğŸ½â€â™‚ï¸ â›¹ğŸ¾â€â™‚ï¸ â›¹ğŸ¿â€â™‚ï¸ ğŸ¤º ğŸ¤¾â€â™€ï¸ ğŸ¤¾ğŸ»â€â™€ï¸ ğŸ¤¾ğŸ¼â€â™€ï¸ ğŸ¤¾ğŸ¾â€â™€ï¸ ğŸ¤¾ğŸ¾â€â™€ï¸ ğŸ¤¾ğŸ¿â€â™€ï¸ ğŸ¤¾â€â™‚ï¸ ğŸ¤¾ğŸ»â€â™‚ï¸ ğŸ¤¾ğŸ¼â€â™‚ï¸ ğŸ¤¾ğŸ½â€â™‚ï¸ ğŸ¤¾ğŸ¾â€â™‚ï¸ ğŸ¤¾ğŸ¿â€â™‚ï¸ ğŸŒï¸â€â™€ï¸ ğŸŒğŸ»â€â™€ï¸ ğŸŒğŸ¼â€â™€ï¸ ğŸŒğŸ½â€â™€ï¸ ğŸŒğŸ¾â€â™€ï¸ ğŸŒğŸ¿â€â™€ï¸ ğŸŒï¸â€â™‚ï¸ ğŸŒğŸ»â€â™‚ï¸ ğŸŒğŸ¼â€â™‚ï¸ ğŸŒğŸ½â€â™‚ï¸ ğŸŒğŸ¾â€â™‚ï¸ ğŸŒğŸ¿â€â™‚ï¸ ğŸ‡ ğŸ‡ğŸ» ğŸ‡ğŸ¼ ğŸ‡ğŸ½ ğŸ‡ğŸ¾ ğŸ‡ğŸ¿ ğŸ§˜â€â™€ï¸ ğŸ§˜ğŸ»â€â™€ï¸ ğŸ§˜ğŸ¼â€â™€ï¸ ğŸ§˜ğŸ½â€â™€ï¸ ğŸ§˜ğŸ¾â€â™€ï¸ ğŸ§˜ğŸ¿â€â™€ï¸ ğŸ§˜â€â™‚ï¸ ğŸ§˜ğŸ»â€â™‚ï¸ ğŸ§˜ğŸ¼â€â™‚ï¸ ğŸ§˜ğŸ½â€â™‚ï¸ ğŸ§˜ğŸ¾â€â™‚ï¸ ğŸ§˜ğŸ¿â€â™‚ï¸ ğŸ„â€â™€ï¸ ğŸ„ğŸ»â€â™€ï¸ ğŸ„ğŸ¼â€â™€ï¸ ğŸ„ğŸ½â€â™€ï¸ ğŸ„ğŸ¾â€â™€ï¸ ğŸ„ğŸ¿â€â™€ï¸ ğŸ„â€â™‚ï¸ ğŸ„ğŸ»â€â™‚ï¸ ğŸ„ğŸ¼â€â™‚ï¸ ğŸ„ğŸ½â€â™‚ï¸ ğŸ„ğŸ¾â€â™‚ï¸ ğŸ„ğŸ¿â€â™‚ï¸ ğŸŠâ€â™€ï¸ ğŸŠğŸ»â€â™€ï¸ ğŸŠğŸ¼â€â™€ï¸ ğŸŠğŸ½â€â™€ï¸ ğŸŠğŸ¾â€â™€ï¸ ğŸŠğŸ¿â€â™€ï¸ ğŸŠâ€â™‚ï¸ ğŸŠğŸ»â€â™‚ï¸ ğŸŠğŸ¼â€â™‚ï¸ ğŸŠğŸ½â€â™‚ï¸ ğŸŠğŸ¾â€â™‚ï¸ ğŸŠğŸ¿â€â™‚ï¸ ğŸ¤½â€â™€ï¸ ğŸ¤½ğŸ»â€â™€ï¸ ğŸ¤½ğŸ¼â€â™€ï¸ ğŸ¤½ğŸ½â€â™€ï¸ ğŸ¤½ğŸ¾â€â™€ï¸ ğŸ¤½ğŸ¿â€â™€ï¸ ğŸ¤½â€â™‚ï¸ ğŸ¤½ğŸ»â€â™‚ï¸ ğŸ¤½ğŸ¼â€â™‚ï¸ ğŸ¤½ğŸ½â€â™‚ï¸ ğŸ¤½ğŸ¾â€â™‚ï¸ ğŸ¤½ğŸ¿â€â™‚ï¸ ğŸš£â€â™€ï¸ ğŸš£ğŸ»â€â™€ï¸ ğŸš£ğŸ¼â€â™€ï¸ ğŸš£ğŸ½â€â™€ï¸ ğŸš£ğŸ¾â€â™€ï¸ ğŸš£ğŸ¿â€â™€ï¸ ğŸš£â€â™‚ï¸ ğŸš£ğŸ»â€â™‚ï¸ ğŸš£ğŸ¼â€â™‚ï¸ ğŸš£ğŸ½â€â™‚ï¸ ğŸš£ğŸ¾â€â™‚ï¸ ğŸš£ğŸ¿â€â™‚ï¸ ğŸ§—â€â™€ï¸ ğŸ§—ğŸ»â€â™€ï¸ ğŸ§—ğŸ¼â€â™€ï¸ ğŸ§—ğŸ½â€â™€ï¸ ğŸ§—ğŸ¾â€â™€ï¸ ğŸ§—ğŸ¿â€â™€ï¸ ğŸ§—â€â™‚ï¸ ğŸ§—ğŸ»â€â™‚ï¸ ğŸ§—ğŸ¼â€â™‚ï¸ ğŸ§—ğŸ½â€â™‚ï¸ ğŸ§—ğŸ¾â€â™‚ï¸ ğŸ§—ğŸ¿â€â™‚ï¸ ğŸšµâ€â™€ï¸ ğŸšµğŸ»â€â™€ï¸ ğŸšµğŸ¼â€â™€ï¸ ğŸšµğŸ½â€â™€ï¸ ğŸšµğŸ¾â€â™€ï¸ ğŸšµğŸ¿â€â™€ï¸ ğŸšµâ€â™‚ï¸ ğŸšµğŸ»â€â™‚ï¸ ğŸšµğŸ¼â€â™‚ï¸ ğŸšµğŸ½â€â™‚ï¸ ğŸšµğŸ¾â€â™‚ï¸ ğŸšµğŸ¿â€â™‚ï¸ ğŸš´â€â™€ï¸ ğŸš´ğŸ»â€â™€ï¸ ğŸš´ğŸ¼â€â™€ï¸ ğŸš´ğŸ½â€â™€ï¸ ğŸš´ğŸ¾â€â™€ï¸ ğŸš´ğŸ¿â€â™€ï¸ ğŸš´â€â™‚ï¸ ğŸš´ğŸ»â€â™‚ï¸ ğŸš´ğŸ¼â€â™‚ï¸ ğŸš´ğŸ½â€â™‚ï¸ ğŸš´ğŸ¾â€â™‚ï¸ ğŸš´ğŸ¿â€â™‚ï¸ ğŸ† ğŸ¥‡ ğŸ¥ˆ ğŸ¥‰ ğŸ… ğŸ« ğŸŸ ğŸª ğŸ¤¹â€â™€ï¸ ğŸ¤¹ğŸ»â€â™€ï¸ ğŸ¤¹ğŸ¼â€â™€ï¸ ğŸ¤¹ğŸ½â€â™€ï¸ ğŸ¤¹ğŸ¾â€â™€ï¸ ğŸ¤¹ğŸ¿â€â™€ï¸ ğŸ¤¹â€â™‚ï¸ ğŸ¤¹ğŸ»â€â™‚ï¸ ğŸ¤¹ğŸ¼â€â™‚ï¸ ğŸ¤¹ğŸ½â€â™‚ï¸ ğŸ¤¹ğŸ¾â€â™‚ï¸ ğŸ¤¹ğŸ¿â€â™‚ï¸ ğŸ­ ğŸ¨ ğŸ¬ ğŸ¤ ğŸ§ ğŸ¼ ğŸ¹ ğŸ¥ ğŸ· ğŸº ğŸ¸ ğŸ» ğŸ² ğŸ§© ğŸ¯ ğŸ³ ğŸ® ğŸ°',
            },
            {
              name: 'äº¤é€š&æ—…è¡Œ',
              value:
                'ğŸš— ğŸš• ğŸš™ ğŸšŒ ğŸš ğŸ ğŸš“ ğŸš‘ ğŸš’ ğŸš ğŸšš ğŸš› ğŸšœ ğŸ›´ ğŸš² ğŸ›µ ğŸ ğŸš¨ ğŸš” ğŸš ğŸš˜ ğŸš– ğŸš¡ ğŸš  ğŸšŸ ğŸšƒ ğŸš‹ ğŸš ğŸš ğŸš„ ğŸš… ğŸšˆ ğŸš‚ ğŸš† ğŸš‡ ğŸšŠ ğŸš‰ âœˆï¸ ğŸ›« ğŸ›¬ ğŸ’º ğŸš€ ğŸ›¸ ğŸš ğŸ›¶ â›µï¸ ğŸš¤ ğŸš¢ âš“ï¸ â›½ï¸ ğŸš§ ğŸš¦ ğŸš¥ ğŸš ğŸ—¿ ğŸ—½ ğŸ—¼ ğŸ° ğŸ¯ ğŸ¡ ğŸ¢ ğŸ  â›²ï¸ ğŸŒ‹ ğŸ—» â›ºï¸ ğŸ  ğŸ¡ ğŸ­ ğŸ¢ ğŸ¬ ğŸ£ ğŸ¤ ğŸ¥ ğŸ¦ ğŸ¨ ğŸª ğŸ« ğŸ© ğŸ’’ ğŸ› â›ªï¸ ğŸ•Œ ğŸ• ğŸ•‹ ğŸ—¾ ğŸ‘ ğŸŒ… ğŸŒ„ ğŸŒ  ğŸ‡ ğŸ† ğŸŒ‡ ğŸŒ† ğŸ™ ğŸŒƒ ğŸŒŒ ğŸŒ‰ ğŸŒ',
            },
            {
              name: 'ç‰©ä½“',
              value:
                'âŒšï¸ ğŸ“± ğŸ“² ğŸ’» âŒ¨ï¸ ğŸ’½ ğŸ’¾ ğŸ’¿ ğŸ“€ ğŸ“¼ ğŸ“· ğŸ“¸ ğŸ“¹ ğŸ¥ ğŸ“ â˜ï¸ ğŸ“Ÿ ğŸ“  ğŸ“º ğŸ“» â° ğŸ•° âŒ›ï¸ â³ ğŸ“¡ ğŸ”‹ ğŸ”Œ ğŸ’¡ ğŸ”¦ ğŸ’¸ ğŸ’µ ğŸ’´ ğŸ’¶ ğŸ’· ğŸ’° ğŸ’³ ğŸ§¾ ğŸ’ âš–ï¸ ğŸ”§ ğŸ”¨ ğŸ”© âš™ï¸ â›“ ğŸ”« ğŸ’£ ğŸ”ª âš”ï¸ ğŸš¬ âš°ï¸ âš±ï¸ ğŸº',
            },
            {
              name: 'æ ‡å¿—',
              value:
                'â¤ï¸ ğŸ§¡ ğŸ’› ğŸ’š ğŸ’™ ğŸ’œ ğŸ–¤ ğŸ’” â£ï¸ ğŸ’• ğŸ’ ğŸ’“ ğŸ’— ğŸ’– ğŸ’˜ ğŸ’ ğŸ’Ÿ â˜®ï¸ âœï¸ â˜ªï¸ â˜¸ï¸ âœ¡ï¸ ğŸ”¯ ğŸ• â˜¯ï¸ â˜¦ï¸ ğŸ› â› â™ˆï¸ â™‰ï¸ â™Šï¸ â™‹ï¸ â™Œï¸ â™ï¸ â™ï¸ â™ï¸ â™ï¸ â™‘ï¸ â™’ï¸ â™“ï¸ ğŸ†” âš›ï¸ ğŸ‰‘ â˜¢ï¸ â˜£ï¸ ğŸ“´ ğŸ“³ ğŸˆ¶ ğŸˆšï¸ ğŸˆ¸ ğŸˆº ğŸˆ·ï¸ âœ´ï¸ ğŸ†š ğŸ’® ğŸ‰ ãŠ™ï¸ ãŠ—ï¸ ğŸˆ´ ğŸˆµ ğŸˆ¹ ğŸˆ² ğŸ…°ï¸ ğŸ…±ï¸ ğŸ† ğŸ†‘ ğŸ…¾ï¸ ğŸ†˜ âŒ â­•ï¸ ğŸ›‘ â›”ï¸ ğŸ“› ğŸš« ğŸ’¯ ğŸ’¢ â™¨ï¸ ğŸš· ğŸš¯ ğŸš³ ğŸš± ğŸ” ğŸ“µ ğŸš­ â—ï¸ â• â“ â” â€¼ï¸ â‰ï¸ ğŸ”… ğŸ”† ã€½ï¸ âš ï¸ ğŸš¸ ğŸ”± âšœï¸ ğŸ”° â™»ï¸ âœ… ğŸˆ¯ï¸ ğŸ’¹ â‡ï¸ âœ³ï¸ â ğŸŒ ğŸ’  â“‚ï¸ ğŸŒ€ ğŸ’¤ ğŸ§ ğŸš¾ â™¿ï¸ ğŸ…¿ï¸ ğŸˆ³ ğŸˆ‚ï¸ ğŸ›‚ ğŸ›ƒ ğŸ›„ ğŸ›… ğŸš¹ ğŸšº ğŸš¼ ğŸš» ğŸš® ğŸ¦ ğŸ“¶ ğŸˆ ğŸ”£ â„¹ï¸ ğŸ”¤ ğŸ”¡ ğŸ”  ğŸ†– ğŸ†— ğŸ†™ ğŸ†’ ğŸ†• ğŸ†“ 0ï¸âƒ£ 1ï¸âƒ£ 2ï¸âƒ£ 3ï¸âƒ£ 4ï¸âƒ£ 5ï¸âƒ£ 6ï¸âƒ£ 7ï¸âƒ£ 8ï¸âƒ£ 9ï¸âƒ£ ğŸ”Ÿ ğŸ”¢ #ï¸âƒ£ *ï¸âƒ£ âï¸ â–¶ï¸ â© âª â« â¬ â—€ï¸ ğŸ”¼ ğŸ”½ â¡ï¸ â¬…ï¸ â¬†ï¸ â¬‡ï¸ â†—ï¸ â†˜ï¸ â†™ï¸ â†–ï¸ â†•ï¸ â†”ï¸ â†ªï¸ â†©ï¸ â¤´ï¸ â¤µï¸ ğŸ”€ ğŸ” ğŸ”‚ ğŸ”„ ğŸ”ƒ ğŸµ ğŸ¶ â• â– â— âœ–ï¸ ğŸ’² ğŸ’± â„¢ï¸ Â©ï¸ Â®ï¸ ã€°ï¸ â° â¿ ğŸ”š ğŸ”™ ğŸ”› ğŸ” ğŸ”œ âœ”ï¸ â˜‘ï¸ ğŸ”˜ âšªï¸ âš«ï¸ ğŸ”´ ğŸ”µ ğŸ”º ğŸ”» ğŸ”¸ ğŸ”¹ ğŸ”¶ ğŸ”· ğŸ”³ ğŸ”² ğŸ”ˆ ğŸ”‡ ğŸ”‰ ğŸ”Š ğŸ”” ğŸ”• ğŸ“£ ğŸ“¢ ğŸ‘â€ ğŸ—¨ ğŸ’¬ ğŸ’­ ğŸ—¯ â™ ï¸ â™£ï¸ â™¥ï¸ â™¦ï¸ ğŸƒ ğŸ´ ğŸ€„ï¸ ğŸ• ğŸ•‘ ğŸ•’ ğŸ•“ ğŸ•” ğŸ•• ğŸ•– ğŸ•— ğŸ•˜ ğŸ•™ ğŸ•š ğŸ•› ğŸ•œ ğŸ• ğŸ• ğŸ•Ÿ ğŸ•  ğŸ•¡ ğŸ•¢ ğŸ•£ ğŸ•¤ ğŸ•¥ ğŸ•¦ ğŸ•§',
            },
          ],
        },
      },
    });
  }

  initSiteMedia() {
    return this.prisma.prisma.siteConfig.create({
      data: {
        type: SiteConfigType.IMAGE,
        config: {
          enableWebp: true,
          webpThreshold: 10,
          enableThumbnail: true,
          thumbnailThreshold: 320,
          thumbnailWidth: 150,
          storageStrategy: 'local',
        },
      },
    });
  }

  initSiteUser() {
    return this.prisma.prisma.siteConfig.create({
      data: {
        type: SiteConfigType.USER,
        config: {
          allowRegister: true,
          allowUploadAvatar: true,
          notifyOnUserRegister: true,
          avatarList: [],
        },
      },
    });
  }

  initSiteAdvance() {
    return this.prisma.prisma.siteConfig.create({
      data: {
        type: SiteConfigType.ADVANCE,
        config: {
          tokenExpiresIn: 3,
        },
      },
    });
  }

  initPageMenu() {
    return this.prisma.prisma.pageMenu.create({
      data: {
        type: PageMenuType.NAVIGATION_NAV,
        data: [
          {
            id: 1,
            url: '/',
            icon: 'home',
            name: 'é¦–é¡µ',
            buttonType: 'url',
          },
          {
            id: 2,
            url: '/messages',
            icon: 'message',
            name: 'ç•™è¨€æ¿',
            buttonType: 'url',
          },
          {
            id: 3,
            url: '/links',
            icon: 'friends',
            name: 'å‹é“¾',
            buttonType: 'url',
          },
        ],
      },
    });
  }

  initPost(tag: Tag) {
    return this.prisma.prisma.post.create({
      data: {
        title: 'Testæ–‡ç« ',
        alias: 'test',
        content: '## è¿™æ˜¯æ ‡é¢˜\nè¿™åªæ˜¯ä¸€ä¸ªæµ‹è¯•çš„æ–‡ç« åœ°å€\n## è¿™æ˜¯æ ‡é¢˜11\n## è¿™æ˜¯æ ‡é¢˜22',
        cover: '/avatar.gif',
        enableComment: true,
        visible: true,
        tags: {
          connect: [{ id: tag.id as number }],
        },
      },
    });
  }
}
